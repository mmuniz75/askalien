<style>
  #searchInput {
    --paper-input-container-input: {
      font-size: 40px;
    }
    ;
    --paper-input-container-label: {
      font-size: 30px;
    }
    ;
  }


  paper-icon-button [role=img] {
    height: 120px;
    width: 120px;
    padding: 1px;
    margin: 1px;
  }


  paper-icon-button {
    padding: 0 1px 1px 1px;
    margin: 1px;
  }
</style>

<div class="layout_layer">

  <main class="layout-main">


    <div class="grid-row has-top_border is-gray">
      <div class="grid-row-inner has-big_padding">
        <paper-input (keydown)='resetSearchDone()' required type="text" [(ngModel)]='userQuestion' label="Seek a question" error-message="No questions found!"
          id="searchInput">
          <paper-icon-button suffix (click)='searchQuestion()' icon="search" alt="search" title="search"></paper-icon-button>
        </paper-input>
        <br>
        <div class="is-right_aligned form-actions is-right_aligned no_flexbox-form_submit">

          <paper-button raised onclick="syntaxDialog.open()">
            <iron-icon icon="icons:help-outline"></iron-icon>Improve your Search</paper-button>

          <a href="https://play.google.com/store/apps/details?id=edu.muniz.universeguide.mobile" target="_blank" align="right" style="text-decoration:none">
            <paper-button raised>
              <iron-icon icon="icons:android"></iron-icon>Avaliable to Android</paper-button>
          </a>
        </div>
      </div>
    </div>

    <div class="grid-row has-top_border is-gray" *ngIf='questions && questions.length==0 && searchDone'>
      <div class="grid-row-inner has-big_padding">
        <div class="iquestion_comment_form-thank">
          <div class="iquestion_comment_form-thank_title">
            <font color='red'>No question found with your search !!</font>
          </div>
        </div>
      </div>
    </div>

    <div class="grid-row has-top_border is-gray" id="questions" *ngIf='questions && questions.length'>
      <div class="grid-row-inner has-big_padding">

        <div class="iquestions_list">


          <div [class]='getQuestionClass(question)' *ngFor='let question of questions;let i = index'>
            <div class="iquestion-inner_border">
              <div class="iquestion-inner" (click)='switchAnswer(question,i)'>
                <div class="iquestion-icon"></div>
                <div class="iquestion-info">
                  <div class="iquestion-info_body">
                    <p>{{question.question}}</p>
                  </div>
                </div>
                <div class="iquestion-footer">
                  <a class="iquestion-answer_link" rel="noopener noreferrer"><span class="iquestion-answer_icon"></span>
                    <span>{{getLabelAnwerLink(question)}}</span></a>
                </div>
              </div>
            </div>
            <div [class]='getAnswerClass(question)'>
              <div class="iquestion_answer-wrapper">
                <div class="iquestion_answer-inner">
                  <div class="iquestion_answer-icon"></div>
                  <div class="iquestion_answer-body content_body is-small">
                    <p *ngIf="question.answer && question.answer.link"><a href="{{question.answer.link}}" target="_blank">See this link</a></p>
                    <!-- Not works when add Polymer -->
                    <!-- p *ngIf="question.answer" [innerHTML]='question.answer.content'></p-->
                    <p #divContent></p>
                    <p *ngIf="question.answer">{{question.answer.date}}</p>
                  </div>
                </div>
                <div class="iquestion_answer-footer">
                  <a class="iquestion_answer-add_comment" (click)='switchComment(question)'>{{getLabelCommnetLink(question)}}</a>
                  <div class="clearfix"></div>
                </div>
              </div>
            </div>
            <div class="iquestion_comment_form-wrapper" *ngIf="question.isCommentActive">

              <form is='iron-form' (ngSubmit)="sendComment(question)" class="simple_form iquestion_comment_form" id="interview_question_comment"
                accept-charset="UTF-8" method="post" id="commentForm">

                <fieldset class="form-fieldset iquestion_comment_form-fieldset" *ngIf="!question.isCommentSent">
                  <div class=" ui-textbox form-field js-field_wrapper string interview_question_comment_name iquestion_comment_form-field">
                    <paper-input name="name" auto-validate required error-message="Name required!" [(ngModel)]='commentFormName' label="Name"
                      class="string required input"></paper-input>
                  </div>

                  <div class="ui-textbox form-field js-field_wrapper email interview_question_comment_email iquestion_comment_form-field">
                    <paper-input name="email" auto-validate required error-message="Email required!" label="Email" class="string email required input"
                      [(ngModel)]='commentFormEmail'>
                      <iron-icon icon="mail" prefix></iron-icon>
                      <div suffix>@email.com</div>
                    </paper-input>
                  </div>

                  <div class="ui-textarea form-field js-field_wrapper text interview_question_comment_body field_with_hint iquestion_comment_form-field"
                    data-view="ui#autoexpand">
                    <paper-textarea name="comments" auto-validate required error-message="Comments required!" [(ngModel)]='commentFormComments'
                      class="text required input textarea" label="Enter your comment here"></paper-textarea>
                  </div>
                  <div class="robot_protection_input form-field js-field_wrapper robot_protection optional interview_question_comment_comment"><textarea maxlength="0" name="interview_question_comment[comment]" id="interview_question_comment_comment"></textarea></div>
                  <div class="iquestion_comment_form-footer">
                    <div class="iquestion_comment_form-footer_right">
                      <div class="form-actions is-right_aligned no_flexbox-form_submit">
                        <button class="button is-green_candy is-medium has-arrow has-inline_arrow no_flexbox-form_submit_button iquestion_comment_form-submit_button"
                          type='submit'>Submit a Comment</button>
                      </div>
                    </div>
                  </div>
                </fieldset>
                <div class="iquestion_comment_form-thank" *ngIf="question.isCommentSent">
                  <div class="iquestion_comment_form-thank_title">Comment submitted succesfully. Thank you.</div>
                  <div class="iquestion_comment_form-thank_text">We are going to review the comment and get back to you as soon as possible.</div>
                </div>
                <div class="iquestion_comment_form-thank" *ngIf="question.isCommentSentFailed">
                  <div class="iquestion_comment_form-thank_title">
                    <font color='red'>Not able to sent you comments try again.</font>
                  </div>
                </div>
              </form>
            </div>
          </div>



        </div>
      </div>
    </div>
  </main>
</div>


<paper-dialog id="syntaxDialog">
  <h2>Search Syntax</h2>
  <paper-dialog-scrollable>
    
    <div id="content">
     
        <p>You can use operators OR AND NOT (capital letters) to improve your search. </p>
        <p>Examples :</p>
        <pre class="code">alien AND starship</pre>
        <pre class="code">krulian OR pleiadian</pre>
        <pre class="code">alien AND NOT pleiadian</pre>
        <br>
        <p>You can use double quotes to a exactly match. </p>
        <p>Example, to search just questions with krulian and ships together with a space in the middle :</p>
        <pre class="code">"krulian ships"</pre>
        <br>
        <p>You can use parenteces to a complex search. </p>
        <p>Example:</p>
        <pre class="code">(krulian AND pleiadian) OR (zigs AND arcturians)</pre>
        <br>
        <p>You can use * symbol to partial search. </p>
        <p>Example :</p>
        <pre class="code">pleiadi*</pre>
        <br>
        <p>You can use ~ symbol to aproximade search. </p>
        <p>Example if you type wrong the ~ will try get some similar results as Google does :</p>
        <pre class="code">pliadian~</pre>

    </div>

  </paper-dialog-scrollable>
  <div class="buttons">
    <paper-button dialog-confirm autofocus>OK</paper-button>
  </div>
</paper-dialog>